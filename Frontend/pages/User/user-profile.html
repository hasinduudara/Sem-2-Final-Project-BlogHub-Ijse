<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlogHub - User Profile</title>
    <link rel="icon" href="/Frontend/assets/image/blogging.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Frontend/css/User/user-profile.css">
  </head>
  <body>
    <div class="profile-card">
      <div class="profile-pic-container">
        <img
          src="https://placehold.co/120x120/e9ecef/6c757d?text=No+Image"
          alt="Profile"
          class="profile-pic"
          id="profileImage"
        />
      </div>

      <div class="mb-3">
        <input
          type="file"
          class="form-control"
          id="imageUpload"
          accept="image/*"
        />
      </div>

      <form>
        <div class="mb-3 text-start">
          <label for="username">User Name</label>
          <input
            type="text"
            class="form-control"
            id="username"
            placeholder="Enter your username"
            value="JohnDoe"
            readonly
          />
        </div>
        <div class="mb-4 text-start">
          <label for="email">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            placeholder="Enter your email"
            value="john.doe@example.com"
            readonly
          />
        </div>
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-edit btn-custom">Edit</button>
          <button type="submit" class="btn btn-save btn-custom">Save</button>
        </div>
        <div class="mt-4">
          <a
            href="/Frontend/pages/login-and-register/forgot-password.html"
            class="forgot-password-link"
            >Forgot Password?</a
          >
        </div>
      </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Image preview function
      const imageUpload = document.getElementById("imageUpload");
      const profileImage = document.getElementById("profileImage");
      const usernameInput = document.getElementById("username");
      const emailInput = document.getElementById("email");
      const editButton = document.querySelector(".btn-edit");

      imageUpload.addEventListener("change", function (event) {
        if (event.target.files && event.target.files[0]) {
          const reader = new FileReader();
          reader.onload = function (e) {
            profileImage.src = e.target.result;
          };
          reader.readAsDataURL(event.target.files[0]);
        }
      });

      // Edit button functionality
      editButton.addEventListener("click", function () {
        usernameInput.readOnly = !usernameInput.readOnly;
        emailInput.readOnly = !emailInput.readOnly;

        // Add a visual cue that fields are editable
        if (!usernameInput.readOnly) {
          usernameInput.focus();
          usernameInput.style.backgroundColor = "#fff";
          emailInput.style.backgroundColor = "#fff";
        } else {
          usernameInput.style.backgroundColor = ""; // Revert to stylesheet default
          emailInput.style.backgroundColor = "";
        }
      });
    </script>
    <script src="/Frontend/JavaScript/User/user-profile.js"></script>
  </body>
</html>
