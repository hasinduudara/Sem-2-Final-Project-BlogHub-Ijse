<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlogHub - AI Generator Subscription</title>
    <link rel="icon" href="/Frontend/assets/image/blogging.png" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Inter Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #000000; /* Solid black background */
        display: flex;
        flex-direction: column;
        justify-content: center; /* සියලුම අන්තර්ගතයන් තිරයේ මැදට පෙළගැසීමට */
        align-items: center; /* Center content horizontally */
        min-height: 100vh;
        margin: 0;
        overflow: auto; /* අන්තර්ගතය දිග වැඩි නම් scroll කිරීමට ඉඩ දෙන්න */
        color: #f0f0f0; /* Light text for visibility */
      }

      /* 3D Canvas Styles */
      #three-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0; /* Behind the content */
        opacity: 0.7; /* Make it subtle */
      }

      .content-wrapper {
        position: relative;
        z-index: 1; /* Above 3D background */
        padding: 40px 20px;
        max-width: 1200px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center; /* අන්තර්ගතය සිරස් අතට මැදට පෙළගැසීමට */
        text-align: center;
        box-sizing: border-box; /* Padding තිරයේ ප්‍රමාණයට බලපෑමට ඉඩ නොදීමට */
      }

      h1 {
        color: #ffffff;
        font-weight: 700;
        letter-spacing: 1px;
        text-shadow: 0 0 8px rgba(255, 255, 255, 0.3); /* Subtle glow */
        margin-bottom: 40px;
      }

      .subscription-card {
        background: rgba(
          255,
          255,
          255,
          0.08
        ); /* Subtle white translucent background */
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 30px;
        margin-bottom: 30px;
        color: #f0f0f0;
        max-width: 400px;
        width: 100%;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        transition: all 0.3s ease-in-out;
        animation: floatEffect 5s ease-in-out infinite; /* Gentle floating animation */
      }

      @keyframes floatEffect {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .subscription-card:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        border-color: rgba(255, 255, 255, 0.3);
      }

      .plan-title {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 15px;
        color: #ffffff;
      }

      .plan-price {
        font-size: 2.5rem;
        font-weight: 800;
        color: #ffffff;
        margin-bottom: 20px;
        text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      }

      .plan-price small {
        font-size: 1rem;
        font-weight: 400;
        color: #cccccc;
      }

      .plan-features {
        list-style: none;
        padding: 0;
        margin-bottom: 30px;
        text-align: left;
        flex-grow: 1; /* Make features take available space */
      }

      .plan-features li {
        margin-bottom: 10px;
        font-size: 1.05rem;
        color: #e0e0e0;
        display: flex;
        align-items: center;
      }

      .plan-features li::before {
        content: "✓"; /* Checkmark icon */
        color: #ffffff; /* White checkmark */
        font-weight: bold;
        margin-right: 10px;
        font-size: 1.2rem;
      }

      .btn-subscribe {
        background-color: #333333; /* Dark gray button */
        color: white;
        padding: 12px 25px;
        border: none;
        border-radius: 30px; /* Pill-shaped button */
        cursor: pointer;
        font-size: 1.1rem;
        width: 100%;
        font-weight: 600;
        letter-spacing: 0.8px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .btn-subscribe:hover {
        background-color: #555555; /* Medium gray on hover */
        transform: translateY(-3px) scale(1.02); /* Lift and slight scale effect */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
        color: white; /* Keep text white on hover */
      }

      .btn-free-access {
        background: transparent;
        color: #ffffff;
        padding: 12px 25px;
        border: 1px solid #ffffff;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1.1rem;
        width: 100%;
        font-weight: 600;
        letter-spacing: 0.8px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        text-decoration: none; /* Remove underline from link */
        display: inline-block; /* Treat link like a block element */
        margin-top: 15px; /* Spacing between buttons */
      }

      .btn-free-access:hover {
        background-color: rgba(255, 255, 255, 0.1);
        transform: translateY(-3px) scale(1.02);
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
      }

      /* Modal styling */
      .modal {
        display: none;
        position: fixed;
        z-index: 10;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
      }
      .modal-content {
        background: rgba(255, 255, 255, 0.1);
        margin: 15% auto;
        padding: 25px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        width: 80%;
        max-width: 400px;
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        animation-name: animatetop;
        animation-duration: 0.4s;
      }
      .modal-content p {
        color: #f0f0f0;
        font-size: 1.1rem;
        margin: 0;
      }
      @keyframes animatetop {
        from {
          top: -300px;
          opacity: 0;
        }
        to {
          top: 0;
          opacity: 1;
        }
      }
      .close-btn {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }
      .close-btn:hover,
      .close-btn:focus {
        color: white;
        text-decoration: none;
        cursor: pointer;
      }
      @media (max-width: 768px) {
        h1 {
          font-size: 2rem;
          margin-bottom: 30px;
        }
        .plan-title {
          font-size: 1.5rem;
        }
        .plan-price {
          font-size: 2rem;
        }
        .subscription-card {
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <!-- 3D Canvas -->
    <canvas id="three-canvas"></canvas>

    <div class="content-wrapper">
      <h1 class="mb-5">Go Premium with AI Article Generation!</h1>

      <div class="subscription-card">
        <div>
          <h3 class="plan-title">Premium Plan</h3>
          <p class="plan-price">LKR 4999<small>/month</small></p>
          <ul class="plan-features">
            <li>Unlimited AI Articles</li>
            <li>Full Feature Access</li>
            <li>24/7 Dedicated Support</li>
            <li>Access to All AI Models & Betas</li>
            <li>Team Collaboration</li>
            <li>API Access</li>
          </ul>
        </div>
        <button
          type="button"
          class="btn-subscribe"
          onclick="initiatePayHere('premium')"
        >
          Subscribe Now
        </button>
        <a
          href="/Frontend/pages/Publisher/AI-generated-article.html"
          class="btn-free-access"
          >Access Free Version</a
        >
      </div>
    </div>

    <!-- The Modal -->
    <div id="messageModal" class="modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <p id="modal-text"></p>
      </div>
    </div>

    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
      // --- Three.js for 3D background ---
      let scene, camera, renderer, icosahedron, particles, lines;
      let mouseX = 0,
        mouseY = 0;
      let windowHalfX = window.innerWidth / 2;
      let windowHalfY = window.innerHeight / 2;

      function initThreeJS() {
        // Scene
        scene = new THREE.Scene();

        // Camera
        camera = new THREE.PerspectiveCamera(
          75,
          window.innerWidth / window.innerHeight,
          0.1,
          1000
        );
        camera.position.z = 5;

        // Renderer
        renderer = new THREE.WebGLRenderer({
          canvas: document.getElementById("three-canvas"),
          alpha: true,
          antialias: true,
        });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);

        // Icosahedron (main geometric shape)
        const icoGeometry = new THREE.IcosahedronGeometry(2.5, 1); // Slightly larger
        const icoMaterial = new THREE.MeshBasicMaterial({
          color: 0xcccccc, // Light gray
          wireframe: true,
          transparent: true,
          opacity: 0.15, // A bit more subtle
          blending: THREE.AdditiveBlending,
        });
        icosahedron = new THREE.Mesh(icoGeometry, icoMaterial);
        scene.add(icosahedron);

        // Particles
        const particleCount = 700; // More particles
        const particleGeometry = new THREE.BufferGeometry();
        const particlePositions = new Float32Array(particleCount * 3);
        const particleColors = new Float32Array(particleCount * 3);
        const particleColor = new THREE.Color(0x888888); // Medium gray particles

        for (let i = 0; i < particleCount; i++) {
          const r = 4 + Math.random() * 4; // Radius from 4 to 8
          const theta = Math.random() * Math.PI * 2;
          const phi = Math.acos(Math.random() * 2 - 1);
          particlePositions[i * 3] = r * Math.sin(phi) * Math.cos(theta);
          particlePositions[i * 3 + 1] = r * Math.sin(phi) * Math.sin(theta);
          particlePositions[i * 3 + 2] = r * Math.cos(phi);
          particleColor.toArray(particleColors, i * 3);
        }
        particleGeometry.setAttribute(
          "position",
          new THREE.BufferAttribute(particlePositions, 3)
        );
        particleGeometry.setAttribute(
          "color",
          new THREE.BufferAttribute(particleColors, 3)
        );

        const particleMaterial = new THREE.PointsMaterial({
          size: 0.04, // Slightly smaller particles
          vertexColors: true,
          transparent: true,
          opacity: 0.4,
          blending: THREE.AdditiveBlending,
          sizeAttenuation: true,
        });
        particles = new THREE.Points(particleGeometry, particleMaterial);
        scene.add(particles);

        // Dynamic Connecting Lines between particles
        const lineMaterial = new THREE.LineBasicMaterial({
          color: 0x666666, // Darker gray for lines
          transparent: true,
          opacity: 0.04, // Even more subtle lines
          blending: THREE.AdditiveBlending,
        });
        const lineGeometry = new THREE.BufferGeometry();
        const maxLineInstances = particleCount * 4;
        const linePositions = new Float32Array(maxLineInstances * 2 * 3);
        lineGeometry.setAttribute(
          "position",
          new THREE.BufferAttribute(linePositions, 3)
        );
        lines = new THREE.LineSegments(lineGeometry, lineMaterial);
        scene.add(lines);

        // Event Listeners for interactivity and responsiveness
        window.addEventListener("resize", onWindowResizeThreeJS, false);
        document.addEventListener(
          "mousemove",
          onDocumentMouseMoveThreeJS,
          false
        );
        document.addEventListener(
          "touchstart",
          onDocumentTouchStartThreeJS,
          false
        );
        document.addEventListener(
          "touchmove",
          onDocumentTouchMoveThreeJS,
          false
        );
      }

      function onWindowResizeThreeJS() {
        windowHalfX = window.innerWidth / 2;
        windowHalfY = window.innerHeight / 2;
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }

      function onDocumentMouseMoveThreeJS(event) {
        mouseX = event.clientX - windowHalfX;
        mouseY = event.clientY - windowHalfY;
      }

      function onDocumentTouchStartThreeJS(event) {
        if (event.touches.length === 1) {
          mouseX = event.touches[0].pageX - windowHalfX;
          mouseY = event.touches[0].pageY - windowHalfY;
        }
      }

      function onDocumentTouchMoveThreeJS(event) {
        if (event.touches.length === 1) {
          event.preventDefault();
          mouseX = event.touches[0].pageX - windowHalfX;
          mouseY = event.touches[0].pageY - windowHalfY;
        }
      }

      function animateThreeJS() {
        requestAnimationFrame(animateThreeJS);

        // Rotate icosahedron
        icosahedron.rotation.x += 0.0003;
        icosahedron.rotation.y += 0.0006;

        // Rotate particles system
        particles.rotation.y += 0.0004;
        particles.rotation.x += 0.0001;

        // Update dynamic lines
        const currentLinePositions = lines.geometry.attributes.position.array;
        let lineIndex = 0;
        const particlePositionsArray =
          particles.geometry.attributes.position.array;
        const tempParticle1 = new THREE.Vector3();
        const tempParticle2 = new THREE.Vector3();

        for (let i = 0; i < currentLinePositions.length; i++) {
          currentLinePositions[i] = 0;
        }

        for (let i = 0; i < particlePositionsArray.length / 3; i++) {
          tempParticle1
            .set(
              particlePositionsArray[i * 3],
              particlePositionsArray[i * 3 + 1],
              particlePositionsArray[i * 3 + 2]
            )
            .applyMatrix4(particles.matrixWorld);

          for (let j = i + 1; j < particlePositionsArray.length / 3; j++) {
            tempParticle2
              .set(
                particlePositionsArray[j * 3],
                particlePositionsArray[j * 3 + 1],
                particlePositionsArray[j * 3 + 2]
              )
              .applyMatrix4(particles.matrixWorld);

            if (tempParticle1.distanceTo(tempParticle2) < 0.8) {
              // Adjust connection distance
              currentLinePositions[lineIndex++] = tempParticle1.x;
              currentLinePositions[lineIndex++] = tempParticle1.y;
              currentLinePositions[lineIndex++] = tempParticle1.z;

              currentLinePositions[lineIndex++] = tempParticle2.x;
              currentLinePositions[lineIndex++] = tempParticle2.y;
              currentLinePositions[lineIndex++] = tempParticle2.z;
            }
          }
        }
        lines.geometry.attributes.position.needsUpdate = true;
        lines.geometry.setDrawRange(0, lineIndex);

        // Camera movement based on mouse/touch
        camera.position.x += (mouseX * 0.0003 - camera.position.x) * 0.05;
        camera.position.y += (-mouseY * 0.0003 - camera.position.y) * 0.05;
        camera.lookAt(scene.position);

        renderer.render(scene, camera);
      }

      // --- PayHere Integration Placeholder ---
      function initiatePayHere(plan) {
        const modal = document.getElementById("messageModal");
        const modalText = document.getElementById("modal-text");
        modalText.textContent =
          "Initiating PayHere subscription for the " +
          plan +
          " plan! (This is a placeholder)";
        modal.style.display = "block";
      }

      // Modal close functionality
      const modal = document.getElementById("messageModal");
      const span = document.getElementsByClassName("close-btn")[0];

      span.onclick = function () {
        modal.style.display = "none";
      };

      window.onclick = function (event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // Initialize Three.js when the window loads
      window.onload = function () {
        initThreeJS();
        animateThreeJS();
      };
    </script>
    <!-- Bootstrap JS CDN (optional, for components that require JS) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
